
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to OmicsIntegrator2’s technical documentation! &#8212; OmicsIntegrator2 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-omicsintegrator2-s-technical-documentation">
<h1>Welcome to OmicsIntegrator2’s technical documentation!<a class="headerlink" href="#welcome-to-omicsintegrator2-s-technical-documentation" title="Permalink to this headline">¶</a></h1>
<p>For more information about the scientific uses of OmicsIntegrator2,
please see the <a class="reference external" href="https://github.com/fraenkel-lab/OmicsIntegrator2">Readme</a>. To report an error, please refer to the <a class="reference external" href="https://github.com/fraenkel-lab/OmicsIntegrator2/issues">Issues</a>.</p>
<span class="target" id="module-graph"></span><dl class="class">
<dt id="graph.Graph">
<em class="property">class </em><code class="descclassname">graph.</code><code class="descname">Graph</code><span class="sig-paren">(</span><em>interactome_file</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#Graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.Graph" title="Permalink to this definition">¶</a></dt>
<dd><p>A Graph object is a representation of a graph, with convenience methods for using the pcst_fast
package, which computes an approximate minimization Prize-Collecting Steiner Forest objective.</p>
<dl class="method">
<dt id="graph.Graph.prepare_prizes">
<code class="descname">prepare_prizes</code><span class="sig-paren">(</span><em>prize_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#Graph.prepare_prizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.Graph.prepare_prizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a prize file and returns an array of prizes, a list of terminal indices.</p>
<p>This function logs duplicate assignments in the prize file and memebers of the prize file
not found in the interactome.</p>
<p>This file passed to this function must have at least two columns: node name and prize.
Any additional columns will be assumed to be node attributes. However, in order to know
the names of those attributes, this function now requires the input file contain headers,
i.e. the first row of the tsv must be the names of the columns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prize_file</strong> (<em>str</em><em> or </em><em>FILE</em>) – a filepath or file object containing a tsv <strong>with headers</strong>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">prizes, properly indexed (ready for input to pcsf function)
numpy.array: terminals, their indices
pandas.DataFrame: terminal_attributes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="graph.Graph.pcsf">
<code class="descname">pcsf</code><span class="sig-paren">(</span><em>prizes</em>, <em>pruning=’strong’</em>, <em>verbosity_level=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#Graph.pcsf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.Graph.pcsf" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the subgraph which approximately optimizes the Prize-Collecting Steiner Forest objective.</p>
<p>This function mostly defers to pcst_fast, but does one important pre-processing step: it
adds a dummy node which will serve as the PCSF root and connects that dummy node to either
terminals, non-terminals, or all other nodes with edges weighted by self.params.w.</p>
<p>In order to interpret the results of this function, use <cite>output_forest_as_networkx</cite> with
the results of this function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prizes</strong> (<em>list</em>) – a list of prizes like the one returned by the prepare_prizes method.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">indices of the selected vertices
numpy.array: indices of the selected edges</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="graph.Graph.output_forest_as_networkx">
<code class="descname">output_forest_as_networkx</code><span class="sig-paren">(</span><em>vertex_indices</em>, <em>edge_indices</em>, <em>terminal_attributes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#Graph.output_forest_as_networkx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.Graph.output_forest_as_networkx" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vertex_indices</strong> (<em>list</em>) – indices of the vertices selected in self.nodes</li>
<li><strong>edge_indices</strong> (<em>list</em>) – indices of the edges selected in self.edges</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a networkx graph object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">networkx.Graph</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="graph.Graph.pcsf_objective_value">
<code class="descname">pcsf_objective_value</code><span class="sig-paren">(</span><em>prizes</em>, <em>forest</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#Graph.pcsf_objective_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.Graph.pcsf_objective_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate PCSF objective function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prizes</strong> (<em>list</em>) – a list of prizes like the one returned by the prepare_prizes method.</li>
<li><strong>forest</strong> (<em>networkx.Graph</em>) – a forest like the one returned by output_forest_as_networkx – Not an augmented forest!</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">PCSF objective function score</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="graph.Graph.randomizations">
<code class="descname">randomizations</code><span class="sig-paren">(</span><em>prizes</em>, <em>terminals</em>, <em>terminal_attributes</em>, <em>noisy_edges_reps</em>, <em>random_terminals_reps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#Graph.randomizations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.Graph.randomizations" title="Permalink to this definition">¶</a></dt>
<dd><p>Macro function which performs randomizations and merges the results</p>
<p>Note that these are additive, not multiplicative:
<cite>noisy_edges_reps</cite> = 5 and <cite>random_terminals_reps</cite> = 5 makes 10 PCSF runs, not 25.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prizes</strong> (<em>numpy.array</em>) – prizes, properly indexed (e.g. from <cite>prepare_prizes</cite>)</li>
<li><strong>terminals</strong> (<em>numpy.array</em>) – of indices of terminals (indices of nonzero prizes above, also from <cite>prepare_prizes</cite>)</li>
<li><strong>terminal_attributes</strong> (<em>pandas.DataFrame</em>) – additional attributes on the terminals (from <cite>prepare_prizes</cite>)</li>
<li><strong>noisy_edges_reps</strong> (<em>int</em>) – Number of “Noisy Edges” type randomizations to perform</li>
<li><strong>random_terminals_reps</strong> (<em>int</em>) – Number of “Random Terminals” type randomizations to perform</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">forest
networkx.Graph: augmented_forest</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">networkx.Graph</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="graph.Graph.grid_search">
<code class="descname">grid_search</code><span class="sig-paren">(</span><em>prize_file</em>, <em>As</em>, <em>Bs</em>, <em>Ws</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#Graph.grid_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.Graph.grid_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Macro function which performs grid search and merges the results.</p>
<p>This function is under construction and subject to change.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bare_prizes</strong> (<em>numpy.array</em>) – prizes, properly indexed (e.g. from prepare_prizes)</li>
<li><strong>parameter_permutations</strong> (<em>list</em>) – list of dictionaries of parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">forest
networkx.Graph: augmented_forest
pd.DataFrame: parameters and node membership lists</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">networkx.Graph</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="graph.output_networkx_graph_as_gml_for_cytoscape">
<code class="descclassname">graph.</code><code class="descname">output_networkx_graph_as_gml_for_cytoscape</code><span class="sig-paren">(</span><em>nxgraph</em>, <em>output_dir</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#output_networkx_graph_as_gml_for_cytoscape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.output_networkx_graph_as_gml_for_cytoscape" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nxgraph</strong> (<em>networkx.Graph</em>) – any instance of networkx.Graph</li>
<li><strong>output_dir</strong> (<em>str</em>) – the directory in which to output the graph. Must already exist.</li>
<li><strong>filename</strong> (<em>str</em>) – Filenames ending in .gz or .bz2 will be compressed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="graph.get_networkx_graph_as_dataframe_of_nodes">
<code class="descclassname">graph.</code><code class="descname">get_networkx_graph_as_dataframe_of_nodes</code><span class="sig-paren">(</span><em>nxgraph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#get_networkx_graph_as_dataframe_of_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.get_networkx_graph_as_dataframe_of_nodes" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nxgraph</strong> (<em>networkx.Graph</em>) – any instance of networkx.Graph</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">nodes from the input graph and their attributes as a dataframe</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="graph.get_networkx_graph_as_dataframe_of_edges">
<code class="descclassname">graph.</code><code class="descname">get_networkx_graph_as_dataframe_of_edges</code><span class="sig-paren">(</span><em>nxgraph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#get_networkx_graph_as_dataframe_of_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.get_networkx_graph_as_dataframe_of_edges" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nxgraph</strong> (<em>networkx.Graph</em>) – any instance of networkx.Graph</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">edges from the input graph and their attributes as a dataframe</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="graph.merge_two_prize_files">
<code class="descclassname">graph.</code><code class="descname">merge_two_prize_files</code><span class="sig-paren">(</span><em>prize_file_1</em>, <em>prize_file_2</em>, <em>prize_file_1_node_type=None</em>, <em>prize_file_2_node_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/graph.html#merge_two_prize_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#graph.merge_two_prize_files" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prize_file_1</strong> (<em>str</em><em> or </em><em>FILE</em>) – a filepath or FILE object with a tsv of name(       )prize( )more…</li>
<li><strong>prize_file_2</strong> (<em>str</em><em> or </em><em>FILE</em>) – a filepath or FILE object with a tsv of name(       )prize( )more…</li>
<li><strong>prize_file_1_node_type</strong> (<em>str</em>) – a node type name to associate with the nodes from prize_file_1</li>
<li><strong>prize_file_2_node_type</strong> (<em>str</em>) – a node type name to associate with the nodes from prize_file_2</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a DataFrame of prizes with duplicates removed (first entry kept)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pandas.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Alexander LeNail.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>